<?xml version = "1.0" encoding = "UTF-8"?>

<beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
   
<!--    
  <bean id="auditoriumService" class="ua.epam.spring.hometask.service.AuditoriumService" autowire="byType" autowire-candidate="true"></bean>
  
  <bean id="bookingService" class="ua.epam.spring.hometask.service.BookingService" autowire="byType" autowire-candidate="true"></bean>
  
  <bean id="eventService" class="ua.epam.spring.hometask.service.EventService" autowire="byType" autowire-candidate="true"></bean>
  
  <bean id="userService" class="ua.epam.spring.hometask.service.UserService" autowire="byType" autowire-candidate="true"></bean> -->
  
  
  <bean id="auditoriumServiceImpl" class="ua.epam.spring.hometask.serviceImpl.AuditoriumServiceImpl"></bean>
  
  <bean id="bookingServiceImpl" class="ua.epam.spring.hometask.serviceImpl.BookingServiceImpl"></bean>
  
  <bean id="eventServiceImpl" class="ua.epam.spring.hometask.serviceImpl.EventServiceImpl"></bean>
  
  <bean id="userServiceImpl" class="ua.epam.spring.hometask.serviceImpl.UserServiceImpl"></bean>
  
    <bean id="discountServiceImpl" class="ua.epam.spring.hometask.serviceImpl.DiscountServiceImpl">
   	 <property name="discountStrategy">
    	<list>
    		<ref bean="birthdayDiscountStrategy"/>
    	</list>
     </property>
    </bean>
<bean id="discountStrategy" class="ua.epam.spring.hometask.serviceImpl.DiscountStrategy" abstract="true"/>
<bean id="birthdayDiscountStrategy" class="ua.epam.spring.hometask.serviceImpl.BirthDayDiscountStrategy" parent="discountStrategy">
</bean>

<bean id="TenTicketDiscountStrategy" class="ua.epam.spring.hometask.serviceImpl.TenTicketDiscountStrategy" parent="discountStrategy">
</bean>

  <bean class="ua.epam.spring.hometask.ui.console.state.AuditoriumManageState">
  	<constructor-arg name="auditoriumService" ref="auditoriumServiceImpl"></constructor-arg>
  </bean>
  
  <bean class="ua.epam.spring.hometask.ui.console.state.BookingState">
  	<property name="bookingService" ref="bookingServiceImpl"></property>
  	<property name="userService" ref="userServiceImpl"></property>
  	<property name="eventService" ref="eventServiceImpl"></property>
  	
  </bean>
  
  <bean class="ua.epam.spring.hometask.ui.console.state.UserManageState">
  	<constructor-arg ref="userServiceImpl"></constructor-arg>
  </bean>
  
  <bean class="ua.epam.spring.hometask.ui.console.state.EventManageState">
  	<constructor-arg ref="auditoriumServiceImpl"></constructor-arg>
  	<constructor-arg ref="eventServiceImpl"></constructor-arg>
  </bean>
   
</beans>